<section class="page">
  <h2>Registro</h2>
  <form [formGroup]="form">

    <div class="field">
      <label for="name">Nombre:</label>
      <input type="text" formControlName="name" name="name" required id="name" autocomplete="name">
      <span
        *ngIf="form.controls['name'].dirty && form.controls['name'].errors && form.controls['name'].errors['required']"
        class="error">El nombre es obligatorio.</span>
    </div>

    <div class="field">
      <label for="email">Email:</label>
      <input type="text" formControlName="email" name="email" required id="email" autocomplete="name">
      <ng-container *ngIf="form.controls['email'].dirty && form.controls['email'].errors">

        <span *ngIf="form.controls['email'].errors['required']" class="error">El email es obligatorio.</span>

        <span *ngIf="form.controls['email'].errors['email']" class="error">El formato es incorrecto.</span>

        <span *ngIf="form.controls['email'].errors['emailExists']" class="error">El email ya está registrado.</span>
      </ng-container>
    </div>

    <div class="field">
      <label for="password">Contraseña:</label>
      <input type="password" formControlName="password" name="password" required id="password">
      <ng-container *ngIf="form.controls['password'].dirty && form.controls['password'].errors">

        <span *ngIf="form.controls['password'].errors['required']" class="error">La contraseña es obligatoria.</span>

        <span *ngIf="form.controls['password'].errors['minlength']" class="error">La contraseña debe tener 6 o más
          caracteres.</span>
      </ng-container>
    </div>

    <input type="text" name="avatar" formControlName="avatar" hidden>

    <button class="btn primary block round" type="submit" (click)="register()"
      [disabled]="form.invalid">REGISTRO</button>

    <span class="link">¿Ya tienes una cuenta? <a [routerLink]="['/login']">¡Inicia sesión!</a></span>

  </form>
</section>